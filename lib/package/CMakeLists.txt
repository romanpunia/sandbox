#Resolve platform for needed generator
if (DEFINED ENV{VCPKG_ROOT} AND NOT DEFINED CMAKE_TOOLCHAIN_FILE)
    if (NOT CMAKE_GENERATOR_PLATFORM)
        if (CMAKE_SIZEOF_VOID_P EQUAL 8)
            if (WIN32)
                set(VCPKG_TARGET_TRIPLET "x64-windows")
            elseif (UNIX)
                set(VCPKG_TARGET_TRIPLET "x64-linux")
            elseif (${CMAKE_SYSTEM_NAME} MATCHES "Darwin")
                set(VCPKG_TARGET_TRIPLET "x64-osx")
            endif()
            set(_VCPKG_TARGET_TRIPLET_ARCH "x64")
        else()
            if (WIN32)
                set(VCPKG_TARGET_TRIPLET "x86-windows")
            elseif (UNIX)
                set(VCPKG_TARGET_TRIPLET "x86-linux")
            elseif (${CMAKE_SYSTEM_NAME} MATCHES "Darwin")
                set(VCPKG_TARGET_TRIPLET "x86-osx")
            endif()
            set(_VCPKG_TARGET_TRIPLET_ARCH "x86")
        endif()
    endif()
    set(CMAKE_TOOLCHAIN_FILE "$ENV{VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake" CACHE STRING "")
endif()